import{x as e,y as t,z as n,h as o,B as a,D as s,E as l,G as u,H as r,o as i,c,m as v,b as d,F as p,n as m,r as f}from"./vendor.fe91043f.js";import{_ as h}from"./PopupModal.5cad3434.js";
/**
 * Vue 3 Carousel 0.1.11
 * (c) 2021
 * @license MIT
 */var g=e({name:"Carousel",props:{itemsToShow:{default:1,type:Number},currentSlide:{default:0,type:Number},wrapAround:{default:!1,type:Boolean},snapAlign:{default:"center",validator:e=>["start","end","center"].includes(e)},transition:{default:300,type:Number},settings:{default:()=>({}),type:Object},breakpoints:{default:null,type:Object}},setup(e,{slots:t}){const i=o(null),c=o([]),v=o([]),d=o(0),p=o(1),m=new Proxy({value:0,read:0},{get:(e,t)=>t in e?"read"===t?e[t]:e[t]++:0,set:(e,t,n)=>(e[t]=Math.max(n,0),!0)}),f=Object.assign(Object.assign({},e),e.settings),h=o(Object.assign({},f.breakpoints));delete f.settings,delete f.breakpoints;const g=n(Object.assign({},f)),w=o(g.currentSlide),_=o(0),b=o(0);r("config",g),r("slidesBuffer",v),r("slidesCount",p),r("currentSlide",w),r("slidesCounter",m);const{default:y,slides:x,addons:S}=t,j=(null==x?void 0:x())||(null==y?void 0:y())||[],k=(null==S?void 0:S())||[];function L(){const e=Object.keys(h.value).map((e=>Number(e))).sort(((e,t)=>+t-+e));let t=Object.assign({},f);e.some((e=>!!window.matchMedia(`(min-width: ${e}px)`).matches&&(t=Object.assign(Object.assign({},t),h.value[e]),!0))),Object.keys(t).forEach((e=>g[e]=t[e]))}a((()=>{var e;c.value=(null===(e=j[0])||void 0===e?void 0:e.children)||[];p.value!==c.value.length&&(p.value=c.value.length,b.value=Math.ceil((p.value-1)/2),O()),m.read&&(m.value=c.value.length-1)}));const M=function(e,t){let n;return function(...o){n&&clearTimeout(n),n=setTimeout((()=>{e(...o),n=null}),t)}}((()=>{h.value&&L(),C()}),16);function C(){if(!i.value)return;const e=i.value.getBoundingClientRect();d.value=e.width/g.itemsToShow}function O(){const e=[...Array(p.value).keys()];if(g.wrapAround){const t=w.value+b.value+1;for(let n=0;n<t;n++)e.push(Number(e.shift()))}v.value=e}u((()=>{C(),h.value&&L(),window.addEventListener("resize",M,{passive:!0})}));let T=!1;const A={x:0,y:0},P={x:0,y:0},N=n({x:0,y:0}),E=o(!1),z=function(e,t){let n;return function(...o){const a=this;n||(e.apply(a,o),n=!0,setTimeout((()=>n=!1),t))}}((e=>{P.x=T?e.touches[0].clientX:e.clientX,P.y=T?e.touches[0].clientY:e.clientY;const t=P.x-A.x,n=P.y-A.y;N.y=n,N.x=t,T||e.preventDefault()}),16);function B(e){T="touchstart"===e.type,!T&&0!==e.button||$.value||(E.value=!0,A.x=T?e.touches[0].clientX:e.clientX,A.y=T?e.touches[0].clientY:e.clientY,document.addEventListener(T?"touchmove":"mousemove",z),document.addEventListener(T?"touchend":"mouseup",X))}function X(){E.value=!1;const e=.4*Math.sign(N.x),t=Math.round(N.x/d.value+e);Y(w.value-t),N.x=0,N.y=0,document.removeEventListener(T?"touchmove":"mousemove",z),document.removeEventListener(T?"touchend":"mouseup",X)}const $=o(!1);function Y(e){if(w.value===e||$.value)return;return e>p.value-1?Y(e-p.value):e<0?Y(e+p.value):($.value=!0,_.value=w.value,w.value=e,void setTimeout((()=>{g.wrapAround&&O(),$.value=!1}),g.transition))}r("nav",{slideTo:Y,next:function(){w.value>=p.value-1?g.wrapAround&&Y(0):Y(w.value+1)},prev:function(){w.value<=0?g.wrapAround&&Y(p.value-1):Y(w.value-1)}});const D=s((()=>{let e=v.value.indexOf(w.value);if("center"===g.snapAlign&&(e-=(g.itemsToShow-1)/2),"end"===g.snapAlign&&(e-=g.itemsToShow-1),!g.wrapAround){const t=p.value-g.itemsToShow,n=0;e=Math.max(Math.min(e,t),n)}return e})),R=s((()=>({transform:`translateX(${N.x-D.value*d.value}px)`,transition:`${$.value?g.transition:0}ms`})));return()=>{const e=l("ol",{class:"carousel__track",style:R.value,onMousedown:B,onTouchstart:B},j),t=l("div",{class:"carousel__viewport"},e);return l("section",{ref:i,class:"carousel","aria-label":"Gallery"},[t,k])}}});const w={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},_=e=>{const t=e.name;if(!t||"string"!=typeof t)return;const n=l("path",{d:w[t]});e.title;const o=l("title",null,t);return l("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img"},[o,n])};_.props={name:String,title:String};var b=e({name:"CarouselSlide",props:{order:{type:Number,default:1}},setup(e,{slots:u}){const r=t("config",n({})),i=t("slidesBuffer",o([])),c=t("slidesCounter").value,v=o(c);function d(){v.value=i.value.indexOf(c)}r.wrapAround&&(d(),a(d));const p=s((()=>({width:1/r.itemsToShow*100+"%",order:v.value.toString()})));return()=>{var e;return l("li",{style:p.value,class:"carousel__slide"},null===(e=u.default)||void 0===e?void 0:e.call(u))}}});const y=e({name:"ImageSlider",components:{Carousel:g,Slide:b,Pagination:()=>{const e=t("slidesCount",o(1)),n=t("currentSlide",o(1)),a=t("nav",{});const s=[];for(let t=0;t<e.value;t++){const e=l("button",{class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":n.value===t},onClick:()=>{return e=t,void a.slideTo(e);var e}}),o=l("li",{class:"carousel__pagination-item",key:t},e);s.push(o)}return l("ol",{class:"carousel__pagination"},s)},Navigation:(e,{slots:n})=>{const{next:o,prev:a}=n,s=t("nav",{});return[l("button",{class:"carousel__prev",onClick:s.prev},(null==a?void 0:a())||l(_,{name:"arrowLeft"})),l("button",{class:"carousel__next",onClick:s.next},(null==o?void 0:o())||l(_,{name:"arrowRight"}))]},PopupModal:h},props:["data"],data:()=>({resolvePromise:void 0,rejectPromise:void 0}),methods:{show(){return this.$refs.popup.open(),new Promise(((e,t)=>{this.resolvePromise=e,this.rejectPromise=t}))},_confirm(){this.$refs.popup.close(),this.resolvePromise(!0)},_cancel(){this.$refs.popup.close(),this.resolvePromise(!1)}}}),x={class:"text-black-2"},S={class:"carousel__item"};y.render=function(e,t,n,o,a,s){const l=f("Slide"),u=f("Navigation"),r=f("Carousel"),h=f("popup-modal");return i(),c(h,{ref:"popup"},{default:v((()=>[d(r,null,{addons:v((()=>[d(u)])),default:v((()=>[(i(!0),c(p,null,m(e.data,(n=>(i(),c(l,{key:n},{default:v((()=>[d("div",x,[d("h1",{onClick:t[1]||(t[1]=(...t)=>e._cancel&&e._cancel(...t)),class:"hover:cursor-pointer text-h2 absolute right-16 top-5"},"X")]),d("div",S,[d("div",null,[d("img",{src:n,alt:""},null,8,["src"])])])])),_:2},1024)))),128))])),_:1})])),_:1},512)};export{y as _};
